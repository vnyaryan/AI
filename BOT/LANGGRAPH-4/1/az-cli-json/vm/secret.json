{
    "command_group": "az vm secret",
    "description": "Manage VM secrets.",
    "status": "GA",
    "commands": [
        {
            "name": "az vm secret add",
            "summary": "Add a secret to a VM.",
            "syntax": "az vm secret add --certificate\n                 --keyvault\n                 [--certificate-store]\n                 [--ids]\n                 [--name]\n                 [--resource-group]\n                 [--subscription]",
            "required_parameters": [
                "--certificate",
                "--keyvault"
            ],
            "optional_parameters": [
                "--certificate-store",
                "--ids",
                "--name -n",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az vm secret add --certificate {certificate} --keyvault {keyvault} --name MyVirtualMachine --resource-group MyResourceGroup"
            ]
        },
        {
            "name": "az vm secret format",
            "summary": "Transform secrets into a form that can be used by VMs and VMSSes.",
            "syntax": "az vm secret format --secrets\n                    [--certificate-store]\n                    [--keyvault]\n                    [--resource-group]",
            "required_parameters": [
                "--secrets -s"
            ],
            "optional_parameters": [
                "--certificate-store",
                "--keyvault",
                "--resource-group -g"
            ],
            "examples": [
                "az keyvault certificate create --vault-name vaultname -n cert1 \\\n  -p \"$(az keyvault certificate get-default-policy)\"\n\nsecrets=$(az keyvault secret list-versions --vault-name vaultname \\\n  -n cert1 --query \"[?attributes.enabled].id\" -o tsv)\n\nvm_secrets=$(az vm secret format -s \"$secrets\")\naz vm create -g group-name -n vm-name --admin-username deploy  \\\n  --image Debian11 --secrets \"$vm_secrets\""
            ]
        },
        {
            "name": "az vm secret list",
            "summary": "List secrets on a VM.",
            "syntax": "az vm secret list --name\n                  --resource-group",
            "required_parameters": [
                "--name -n",
                "--resource-group -g"
            ],
            "optional_parameters": [],
            "examples": [
                "az vm secret list --name MyVirtualMachine --resource-group MyResourceGroup"
            ]
        },
        {
            "name": "az vm secret remove",
            "summary": "Remove a secret from a VM.",
            "syntax": "az vm secret remove --keyvault\n                    [--certificate]\n                    [--ids]\n                    [--name]\n                    [--resource-group]\n                    [--subscription]",
            "required_parameters": [
                "--keyvault"
            ],
            "optional_parameters": [
                "--certificate",
                "--ids",
                "--name -n",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": []
        }
    ]
}