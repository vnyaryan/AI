{
    "command_group": "az networkcloud cluster",
    "description": "Manage cluster.",
    "status": "GA",
    "commands": [
        {
            "name": "az networkcloud cluster continue-update-version",
            "summary": "Trigger the continuation of an update for a cluster with a matching update strategy that has paused after completing a segment of the update.",
            "syntax": "az networkcloud cluster continue-update-version [--cluster-name]\n                                                [--ids]\n                                                [--machine-group-targeting-mode {AlphaByRack}]\n                                                [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                                                [--resource-group]\n                                                [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--machine-group-targeting-mode --mode",
                "--no-wait",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az networkcloud cluster continue-update-version --name \"clusterName\" --resource-group \"resourceGroupName\" --machine-group-targeting-mode \"AlphaByRack\""
            ]
        },
        {
            "name": "az networkcloud cluster create",
            "summary": "Create a new cluster or update the properties of the cluster if it exists.",
            "syntax": "az networkcloud cluster create --aggregator-or-single-rack-definition\n                               --cluster-name\n                               --cluster-type {MultiRack, SingleRack}\n                               --cluster-version\n                               --extended-location\n                               --network-fabric-id\n                               --resource-group\n                               [--analytics-output-settings]\n                               [--cluster-location]\n                               [--cluster-service-principal]\n                               [--co-settings]\n                               [--compute-deployment-threshold]\n                               [--compute-rack-definitions]\n                               [--location]\n                               [--managed-resource-group-configuration]\n                               [--mi-system-assigned {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--mi-user-assigned]\n                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--runtime-protection]\n                               [--sa-settings]\n                               [--tags]\n                               [--update-strategy]\n                               [--vs-settings]",
            "required_parameters": [
                "--aggregator-or-single-rack-definition",
                "--cluster-name --name -n",
                "--cluster-type",
                "--cluster-version",
                "--extended-location",
                "--network-fabric-id",
                "--resource-group -g"
            ],
            "optional_parameters": [
                "--analytics-output-settings --ao-settings",
                "--cluster-location",
                "--cluster-service-principal",
                "--co-settings --command-output-settings",
                "--compute-deployment-threshold",
                "--compute-rack-definitions",
                "--location -l",
                "--managed-resource-group-configuration",
                "--mi-system-assigned",
                "--mi-user-assigned",
                "--no-wait",
                "--runtime-protection",
                "--sa-settings --secret-archive-settings",
                "--tags",
                "--update-strategy",
                "--vs-settings --vulnerability-scanning-settings"
            ],
            "examples": [
                "az networkcloud cluster create --name \"clusterName\" -g \"resourceGroupName\" --extended-location name=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterManagerExtendedLocationName\" type=\"CustomLocation\" --location \"eastus\" --cluster-location \"Foo Street, 3rd Floor, row 9\" --cluster-service-principal application-id=\"12345678-1234-1234-1234-123456789012\" password=\"password\" principal-id=\"00000008-0004-0004-0004-000000000012\" tenant-id=\"80000000-4000-4000-4000-120000000000\" --cluster-type \"SingleRack\" --cluster-version \"3.0.0\" --compute-deployment-threshold type=\"PercentSuccess\" grouping=\"PerCluster\" value=90  --network-fabric-id \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default\" --aggregator-or-single-rack-definition network-rack-id=\"/subscriptions/subscriptionId/resourceGroups/rgName/providers/Microsoft.Network/virtualNetworks/cmName/subnets/ClusterManagerSubnet\" rack-sku-id=\"/subscriptions/subscriptionId/providers/Microsoft.NetworkCloud/rackSkus/VLab_Single_DellR750_8C2M_x70r3_9\" rack-serial-number=b99m99r1 rack-location='b99m99r1' availability-zone=1 storage-appliance-configuration-data=\"[{rackSlot:1,adminCredentials:{username:'adminuser',password:'password'},storageApplianceName:name,serialNumber:serial}]\" bare-metal-machine-configuration-data=\"[{bmcCredentials:{password:'bmcPassword',username:'root'},bmcMacAddress:'AA:BB:CC:DD:E7:08',bootMacAddress:'AA:BB:CC:F8:71:2E',machineName:lab00r750wkr1,rackSlot:2,serialNumber:5HS7PK3},{bmcCredentials:{password:'bmcPassword',username:'root'},bmcMacAddress:'AA:BB:CC:FD:DC:76',bootMacAddress:'AA:BB:CC:F8:50:CA',machineName:lab00r750wkr8,rackSlot:11,serialNumber:9M56PK3}]\" --tags key1=\"myvalue1\" key2=\"myvalue2\" --mi-user-assigned \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" --command-output-settings identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" container-url=\"https://myaccount.blob.core.windows.net/mycontainer?restype=container\"",
                "az networkcloud cluster create --name \"clusterName\" -g \"resourceGroupName\" --extended-location name=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterManagerExtendedLocationName\" type=\"CustomLocation\" --location \"eastus\" --cluster-location \"Foo Street, 3rd Floor, row 9\" --cluster-service-principal application-id=\"12345678-1234-1234-1234-123456789012\" password=\"password\" principal-id=\"00000008-0004-0004-0004-000000000012\" tenant-id=\"80000000-4000-4000-4000-120000000000\" --cluster-type \"SingleRack\" --cluster-version \"3.0.0\" --compute-deployment-threshold type=\"PercentSuccess\" grouping=\"PerCluster\" value=90  --network-fabric-id \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default\" --aggregator-or-single-rack-definition ./aggregator-or-single-rack-definition.json --tags key1=\"myvalue1\" key2=\"myvalue2",
                "az networkcloud cluster create --name \"clusterName\" -g \"resourceGroupName\" --extended-location name=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ExtendedLocation/customLocations/clusterManagerExtendedLocationName\" type=\"CustomLocation\" --location \"eastus\" --cluster-location \"Foo Street, 2nd Floor, row 9\" --cluster-service-principal application-id=\"0000-000-0000-0000-0000-00000000\" password=\"password\" principal-id=\"00000000-0000-0000-0000-000000000000\" tenant-id=\"00000000-0000-0000-0000-000000000000\" --cluster-type \"SingleRack\" --cluster-version \"3.0.0\" --compute-deployment-threshold type=\"PercentSuccess\" grouping=\"PerCluster\" value=90 --network-fabric-id \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/default\" --aggregator-or-single-rack-definition ./aggregator-or-single-rack-definition.json --tags key1=\"myvalue1\" key2=\"myvalue2\" --mi-user-assigned \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" --command-output-settings identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" container-url=\"https://myaccount.blob.core.windows.net/mycontainer?restype=container\" --analytics-output-settings analytics-workspace-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/microsoft.operationalInsights/workspaces/logAnalyticsWorkspaceName\" identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\""
            ]
        },
        {
            "name": "az networkcloud cluster delete",
            "summary": "Delete the provided cluster.",
            "syntax": "az networkcloud cluster delete [--cluster-name]\n                               [--ids]\n                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--resource-group]\n                               [--subscription]\n                               [--yes]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--no-wait",
                "--resource-group -g",
                "--subscription",
                "--yes -y"
            ],
            "examples": [
                "az networkcloud cluster delete --name \"clusterName\" --resource-group \"resourceGroupName\""
            ]
        },
        {
            "name": "az networkcloud cluster deploy",
            "summary": "Deploy the cluster.",
            "syntax": "az networkcloud cluster deploy [--cluster-name]\n                               [--ids]\n                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--resource-group]\n                               [--skip-validations-for-machines]\n                               [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--no-wait",
                "--resource-group -g",
                "--skip-validations-for-machines",
                "--subscription"
            ],
            "examples": [
                "az networkcloud cluster deploy --name \"clusterName\" --resource-group \"resourceGroupName\"",
                "az networkcloud cluster deploy --name \"clusterName\" --resource-group \"resourceGroupName\" --skip-validations-for-machines \"bmmName1\""
            ]
        },
        {
            "name": "az networkcloud cluster list",
            "summary": "List clusters in the provided resource group or subscription.",
            "syntax": "az networkcloud cluster list [--max-items]\n                             [--next-token]\n                             [--resource-group]",
            "required_parameters": [],
            "optional_parameters": [
                "--max-items",
                "--next-token",
                "--resource-group -g"
            ],
            "examples": [
                "az networkcloud cluster list --resource-group \"resourceGroupName\"",
                "az networkcloud cluster list"
            ]
        },
        {
            "name": "az networkcloud cluster scan-runtime",
            "summary": "Trigger the execution of a runtime protection scan to detect and remediate detected issues, in accordance with the cluster configuration.",
            "syntax": "az networkcloud cluster scan-runtime [--cluster-name]\n                                     [--ids]\n                                     [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                                     [--resource-group]\n                                     [--scan-activity {Scan, Skip}]\n                                     [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--no-wait",
                "--resource-group -g",
                "--scan-activity",
                "--subscription"
            ],
            "examples": [
                "az networkcloud cluster scan-runtime -n \"clusterName\" -g \"resourceGroupName\" --scan-activity \"Scan\""
            ]
        },
        {
            "name": "az networkcloud cluster show",
            "summary": "Get properties of the provided cluster.",
            "syntax": "az networkcloud cluster show [--cluster-name]\n                             [--ids]\n                             [--resource-group]\n                             [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az networkcloud cluster show --name \"clusterName\" --resource-group \"resourceGroupName\""
            ]
        },
        {
            "name": "az networkcloud cluster update",
            "summary": "Update the properties of the provided cluster, or update the tags associated with the cluster. Properties and tag updates can be done independently.",
            "syntax": "az networkcloud cluster update [--aggregator-or-single-rack-definition]\n                               [--analytics-output-settings]\n                               [--cluster-location]\n                               [--cluster-name]\n                               [--cluster-service-principal]\n                               [--co-settings]\n                               [--compute-deployment-threshold]\n                               [--compute-rack-definitions]\n                               [--ids]\n                               [--mi-system-assigned {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--mi-user-assigned]\n                               [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                               [--resource-group]\n                               [--runtime-protection]\n                               [--sa-settings]\n                               [--subscription]\n                               [--tags]\n                               [--update-strategy]\n                               [--vs-settings]",
            "required_parameters": [],
            "optional_parameters": [
                "--aggregator-or-single-rack-definition",
                "--analytics-output-settings --ao-settings",
                "--cluster-location",
                "--cluster-name --name -n",
                "--cluster-service-principal",
                "--co-settings --command-output-settings",
                "--compute-deployment-threshold",
                "--compute-rack-definitions",
                "--ids",
                "--mi-system-assigned",
                "--mi-user-assigned",
                "--no-wait",
                "--resource-group -g",
                "--runtime-protection",
                "--sa-settings --secret-archive-settings",
                "--subscription",
                "--tags",
                "--update-strategy",
                "--vs-settings --vulnerability-scanning-settings"
            ],
            "examples": [
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --cluster-location \"Foo Street, 3rd Floor, row 9\" --tags key1=\"myvalue1\" key2=\"myvalue2\"",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName --aggregator-or-single-rack-definition \"{networkRackId:'/subscriptions/subscriptionId/resourceGroups/rgName/providers/Microsoft.Network/virtualNetworks/cmName/subnets/ClusterManagerSubnet',rackSkuId:'/subscriptions/subscriptionId/providers/Microsoft.NetworkCloud/rackSkus/VLab_Single_DellR750_8C2M_x70r3_9',rackSerialNumber:b99m99r1,rackLocation:b99m99r1,availabilityZone:1,storageApplianceConfigurationData:[{rackSlot:1,adminCredentials:{username:'adminuser',password:'password'},storageApplianceName:name,serialNumber:serial}],bareMetalMachineConfigurationData:[{bmcCredentials:{password:'bmcPassword',username:'root'},bmcMacAddress:'AA:BB:CC:DD:E7:08',bootMacAddress:'AA:BB:CC:F8:71:2E',machineName:lab00r750wkr1,rackSlot:2,serialNumber:5HS7PK3},{bmcCredentials:{password:'bmcPassword',username:'root'},bmcMacAddress:'AA:BB:CC:FD:DC:76',bootMacAddress:'AA:BB:CC:F8:50:CA',machineName:lab00r750wkr8,rackSlot:11,serialNumber:9M56PK3}]}\" --compute-deployment-threshold type=\"PercentSuccess\" grouping=\"PerCluster\" value=90 --tags key1=\"myvalue1\" key2=\"myvalue2\"",
                "az networkcloud cluster update --name \"clusterName\"  --resource-group \"resourceGroupName\" --aggregator-or-single-rack-definition ./aggregator-or-single-rack-definition.json --compute-deployment-threshold type=\"PercentSuccess\" grouping=\"PerCluster\" value=90 --tags key1=\"myvalue1\" key2=\"myvalue2\"",
                "az az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --runtime-protection enforcement-level=\"OnDemand\"",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --vulnerability-scanning-settings container-scan=\"Enabled\"",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --update-strategy strategy-type=\"Rack\" threshold-type=\"CountSuccess\" threshold-value=4 max-unavailable=4 wait-time-minutes=10",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --mi-user-assigned \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" --command-output-settings identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" container-url=\"https://myaccount.blob.core.windows.net/mycontainer?restype=container\"",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --mi-system-assigned",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --mi-user-assigned \"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/userAssignedIdentity\" --analytics-output-settings analytics-workspace-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/microsoft.operationalInsights/workspaces/logAnalyticsWorkspaceName\" identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/userIdentity\"",
                "az networkcloud cluster update --name \"clusterName\" --resource-group \"resourceGroupName\" --secret-archive-settings identity-type=\"UserAssignedIdentity\" identity-resource-id=\"/subscriptions/subscriptionId/resourceGroups/resourceGroupName/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myUAI\" vault_uri=\"https://keyvaultname.vault.azure.net/\""
            ]
        },
        {
            "name": "az networkcloud cluster update-version",
            "summary": "Update the version of the provided cluster to one of the available supported versions.",
            "syntax": "az networkcloud cluster update-version --target-cluster-version\n                                       [--cluster-name]\n                                       [--ids]\n                                       [--no-wait {0, 1, f, false, n, no, t, true, y, yes}]\n                                       [--resource-group]\n                                       [--subscription]",
            "required_parameters": [
                "--target-cluster-version"
            ],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--ids",
                "--no-wait",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az networkcloud cluster update-version --cluster-name \"clusterName\" --target-cluster-version \"2.0\" --resource-group \"resourceGroupName\""
            ]
        },
        {
            "name": "az networkcloud cluster wait",
            "summary": "Place the CLI in a waiting state until a condition is met.",
            "syntax": "az networkcloud cluster wait [--cluster-name]\n                             [--created]\n                             [--custom]\n                             [--deleted]\n                             [--exists]\n                             [--ids]\n                             [--interval]\n                             [--resource-group]\n                             [--subscription]\n                             [--timeout]\n                             [--updated]",
            "required_parameters": [],
            "optional_parameters": [
                "--cluster-name --name -n",
                "--created",
                "--custom",
                "--deleted",
                "--exists",
                "--ids",
                "--interval",
                "--resource-group -g",
                "--subscription",
                "--timeout",
                "--updated"
            ],
            "examples": []
        }
    ]
}