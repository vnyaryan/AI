{
    "command_group": "az confcom",
    "description": "Commands to generate security policies for confidential containers in Azure.",
    "status": "GA",
    "commands": [
        {
            "name": "az confcom acifragmentgen",
            "summary": "Create a Confidential Container Policy Fragment for ACI.",
            "syntax": "az confcom acifragmentgen [--algo]\n                          [--chain]\n                          [--debug-mode]\n                          [--disable-stdio]\n                          [--feed]\n                          [--fragment-path]\n                          [--fragments-json]\n                          [--generate-import]\n                          [--image]\n                          [--image-target]\n                          [--input]\n                          [--key]\n                          [--minimum-svn]\n                          [--namespace]\n                          [--no-print]\n                          [--omit-id]\n                          [--output-filename]\n                          [--outraw]\n                          [--svn]\n                          [--tar]\n                          [--upload-fragment]",
            "required_parameters": [],
            "optional_parameters": [
                "--algo",
                "--chain",
                "--debug-mode",
                "--disable-stdio",
                "--feed -f",
                "--fragment-path -p",
                "--fragments-json -j",
                "--generate-import -g",
                "--image",
                "--image-target",
                "--input -i",
                "--key -k",
                "--minimum-svn",
                "--namespace -n",
                "--no-print",
                "--omit-id",
                "--output-filename",
                "--outraw",
                "--svn",
                "--tar",
                "--upload-fragment -u"
            ],
            "examples": [
                "az confcom acifragmentgen --image mcr.microsoft.com/azuredocs/aci-helloworld",
                "az confcom acifragmentgen --input \"./config.json\" --namespace \"my-namespace\" --debug-mode",
                "az confcom acifragmentgen --fragment-path \"./fragment.rego.cose\" --generate-import --minimum-svn 1",
                "az confcom acifragmentgen --input \"./config.json\" --key \"./key.pem\" --chain \"./chain.pem\" --svn 1 --namespace contoso --no-print",
                "az confcom acifragmentgen --image <my-image> --generate-import --minimum-svn 1",
                "az confcom acifragmentgen --input \"./config.json\" --key \"./key.pem\" --chain \"./chain.pem\" --svn 1 --namespace contoso --upload-fragment --image-target <my-image>"
            ]
        },
        {
            "name": "az confcom acipolicygen",
            "summary": "Create a Confidential Container Security Policy for ACI.",
            "syntax": "az confcom acipolicygen [--approve-wildcards]\n                        [--debug-mode]\n                        [--diff]\n                        [--disable-stdio]\n                        [--exclude-default-fragments]\n                        [--faster-hashing]\n                        [--fragments-json]\n                        [--image]\n                        [--include-fragments]\n                        [--infrastructure-svn]\n                        [--input]\n                        [--omit-id]\n                        [--outraw]\n                        [--outraw-pretty-print]\n                        [--parameters]\n                        [--print-existing-policy]\n                        [--print-policy]\n                        [--save-to-file]\n                        [--tar]\n                        [--template-file]\n                        [--validate-sidecar]\n                        [--virtual-node-yaml]",
            "required_parameters": [],
            "optional_parameters": [
                "--approve-wildcards -y",
                "--debug-mode",
                "--diff -d",
                "--disable-stdio",
                "--exclude-default-fragments -e",
                "--faster-hashing",
                "--fragments-json -j",
                "--image",
                "--include-fragments -f",
                "--infrastructure-svn",
                "--input -i",
                "--omit-id",
                "--outraw",
                "--outraw-pretty-print",
                "--parameters -p",
                "--print-existing-policy",
                "--print-policy",
                "--save-to-file -s",
                "--tar",
                "--template-file -a",
                "--validate-sidecar -v",
                "--virtual-node-yaml"
            ],
            "examples": [
                "az confcom acipolicygen --template-file \"./template.json\"",
                "az confcom acipolicygen --template-file \"./template.json\" --outraw-pretty-print",
                "az confcom acipolicygen --template-file \"./template.json\" -s \"./output-file.txt\" --print-policy",
                "az confcom acipolicygen --template-file \"./template.json\" --tar \"./image.tar\"",
                "az confcom acipolicygen --template-file \"./template.json\" --fragments-json \"./fragments.json\" --include-fragments"
            ]
        },
        {
            "name": "az confcom katapolicygen",
            "summary": "Create a Confidential Container Security Policy for AKS.",
            "syntax": "az confcom katapolicygen [--config-map-file]\n                         [--containerd-pull]\n                         [--containerd-socket-path]\n                         [--outraw]\n                         [--print-policy]\n                         [--print-version]\n                         [--rules-file-name]\n                         [--settings-file-name]\n                         [--use-cached-files]\n                         [--yaml]",
            "required_parameters": [],
            "optional_parameters": [
                "--config-map-file -c",
                "--containerd-pull -d",
                "--containerd-socket-path",
                "--outraw",
                "--print-policy",
                "--print-version -v",
                "--rules-file-name -p",
                "--settings-file-name -j",
                "--use-cached-files -u",
                "--yaml -y"
            ],
            "examples": [
                "az confcom katapolicygen --yaml \"./pod.json\"",
                "az confcom katapolicygen --yaml \"./pod.json\" --print-policy",
                "az confcom katapolicygen --yaml \"./pod.json\" -j \"./settings.json\"",
                "az confcom katapolicygen --yaml \"./pod.json\" --config-map-file \"./configmap.json\"",
                "az confcom katapolicygen --yaml \"./pod.json\" -p \"./rules.rego\"",
                "az confcom katapolicygen --yaml \"./pod.json\" --containerd-pull --containerd-socket-path \"/my/custom/containerd.sock\""
            ]
        }
    ]
}