{
    "command_group": "az iot dps enrollment",
    "description": "Manage individual device enrollments in an Azure IoT Hub Device Provisioning Service.",
    "status": "GA",
    "commands": [
        {
            "name": "az iot dps enrollment create",
            "summary": "Create an individual device enrollment in an Azure IoT Hub Device Provisioning Service.",
            "syntax": "az iot dps enrollment create --at {symmetricKey, tpm, x509}\n                             --eid\n                             [--allocation-policy {custom, geoLatency, hashed, static}]\n                             [--api-version]\n                             [--auth-type {key, login}]\n                             [--certificate-path]\n                             [--device-id]\n                             [--device-information]\n                             [--dps-name]\n                             [--edge-enabled {false, true}]\n                             [--ek]\n                             [--ih]\n                             [--initial-twin-properties]\n                             [--initial-twin-tags]\n                             [--login]\n                             [--pk]\n                             [--provisioning-status {disabled, enabled}]\n                             [--reprovision-policy {never, reprovisionandmigratedata, reprovisionandresetdata}]\n                             [--resource-group]\n                             [--scp]\n                             [--secondary-key]\n                             [--webhook-url]",
            "required_parameters": [
                "--at --attestation-type",
                "--eid --enrollment-id"
            ],
            "optional_parameters": [
                "--allocation-policy --ap",
                "--api-version --av",
                "--auth-type",
                "--certificate-path --cp",
                "--device-id -d",
                "--device-information --info",
                "--dps-name -n",
                "--edge-enabled --ee",
                "--ek --endorsement-key",
                "--ih --iot-hubs",
                "--initial-twin-properties --props",
                "--initial-twin-tags --tags",
                "--login -l",
                "--pk --primary-key",
                "--provisioning-status --ps",
                "--reprovision-policy --rp",
                "--resource-group -g",
                "--scp --secondary-certificate-path",
                "--secondary-key --sk",
                "--webhook-url --wh"
            ],
            "examples": [
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type x509 --certificate-path /certificates/Certificate.pem --provisioning-status disabled --initial-twin-properties \"{'location':{'region':'US'}}\" --initial-twin-tags \"{'version':'1'}\" --device-info \"{'color':'red'}\" --device-id {device_id}",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type tpm --endorsement-key 14963E8F3BA5B3984110B3C1CA8E8B89",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type symmetrickey --primary-key {primary_key} --secondary-key {secondary_key}",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type tpm --reprovision-policy {reprovision_type} --endorsement-key 14963E8F3BA5B3984110B3C1CA8E8B89",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type tpm --allocation-policy static --endorsement-key 14963E8F3BA5B3984110B3C1CA8E8B89 --iot-hubs {iot_hub_host_name}",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type tpm --allocation-policy hashed --endorsement-key 14963E8F3BA5B3984110B3C1CA8E8B89 --iot-hubs {iot_hub_host_name1} {iot_hub_host_name2}",
                "az iot dps enrollment create -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --attestation-type symmetrickey --allocation-policy custom --webhook-url {webhook_url} --api-version {api_version}"
            ]
        },
        {
            "name": "az iot dps enrollment delete",
            "summary": "Delete an individual device enrollment in an Azure IoT Hub Device Provisioning Service.",
            "syntax": "az iot dps enrollment delete --eid\n                             [--auth-type {key, login}]\n                             [--dps-name]\n                             [--etag]\n                             [--login]\n                             [--resource-group]",
            "required_parameters": [
                "--eid --enrollment-id"
            ],
            "optional_parameters": [
                "--auth-type",
                "--dps-name -n",
                "--etag -e",
                "--login -l",
                "--resource-group -g"
            ],
            "examples": []
        },
        {
            "name": "az iot dps enrollment list",
            "summary": "List individual device enrollments in an Azure IoT Hub Device Provisioning Service.",
            "syntax": "az iot dps enrollment list [--auth-type {key, login}]\n                           [--dps-name]\n                           [--login]\n                           [--resource-group]\n                           [--top]",
            "required_parameters": [],
            "optional_parameters": [
                "--auth-type",
                "--dps-name -n",
                "--login -l",
                "--resource-group -g",
                "--top"
            ],
            "examples": []
        },
        {
            "name": "az iot dps enrollment show",
            "summary": "Get individual device enrollment details in an Azure IoT Hub Device Provisioning Service.",
            "syntax": "az iot dps enrollment show --eid\n                           [--auth-type {key, login}]\n                           [--dps-name]\n                           [--keys {false, true}]\n                           [--login]\n                           [--resource-group]",
            "required_parameters": [
                "--eid --enrollment-id"
            ],
            "optional_parameters": [
                "--auth-type",
                "--dps-name -n",
                "--keys --show-keys",
                "--login -l",
                "--resource-group -g"
            ],
            "examples": [
                "az iot dps enrollment show --dps-name {dps_name} -g {resource_group} --enrollment-id {enrollment_id}",
                "az iot dps enrollment show --dps-name {dps_name} -g {resource_group} --enrollment-id {symmetric_key_enrollment_id} --show-keys"
            ]
        },
        {
            "name": "az iot dps enrollment update",
            "summary": "Update an individual device enrollment in an Azure IoT Hub Device Provisioning Service.",
            "syntax": "az iot dps enrollment update --eid\n                             [--allocation-policy {custom, geoLatency, hashed, static}]\n                             [--api-version]\n                             [--auth-type {key, login}]\n                             [--certificate-path]\n                             [--device-id]\n                             [--device-information]\n                             [--dps-name]\n                             [--edge-enabled {false, true}]\n                             [--ek]\n                             [--etag]\n                             [--ih]\n                             [--initial-twin-properties]\n                             [--initial-twin-tags]\n                             [--login]\n                             [--pk]\n                             [--provisioning-status {disabled, enabled}]\n                             [--rc {false, true}]\n                             [--remove-secondary-certificate {false, true}]\n                             [--reprovision-policy {never, reprovisionandmigratedata, reprovisionandresetdata}]\n                             [--resource-group]\n                             [--scp]\n                             [--secondary-key]\n                             [--webhook-url]",
            "required_parameters": [
                "--eid --enrollment-id"
            ],
            "optional_parameters": [
                "--allocation-policy --ap",
                "--api-version --av",
                "--auth-type",
                "--certificate-path --cp",
                "--device-id -d",
                "--device-information --info",
                "--dps-name -n",
                "--edge-enabled --ee",
                "--ek --endorsement-key",
                "--etag -e",
                "--ih --iot-hubs",
                "--initial-twin-properties --props",
                "--initial-twin-tags --tags",
                "--login -l",
                "--pk --primary-key",
                "--provisioning-status --ps",
                "--rc --remove-certificate",
                "--remove-secondary-certificate --rsc",
                "--reprovision-policy --rp",
                "--resource-group -g",
                "--scp --secondary-certificate-path",
                "--secondary-key --sk",
                "--webhook-url --wh"
            ],
            "examples": [
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --certificate-path /certificates/NewCertificate.pem --etag AAAAAAAAAAA=",
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --endorsement-key 14963E8F3BA5B3984110B3C1CA8E8B89 --etag AAAAAAAAAAA=",
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --primary-key {new_primary_key} --etag AAAAAAAAAAA=",
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --reprovision-policy {reprovision_type} --etag AAAAAAAAAAA=",
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --allocation-policy geolatency --etag AAAAAAAAAAA= --iot-hubs {iot_hub_host_name1} {iot_hub_host_name2} {iot_hub_host_name3}",
                "az iot dps enrollment update -g {resource_group_name} --dps-name {dps_name} --enrollment-id {enrollment_id} --initial-twin-properties \"{'location':{'region':'USA'}}\" --initial-twin-tags \"{'version1':'2'}\" --device-info \"{'color':'red'}\""
            ]
        }
    ]
}