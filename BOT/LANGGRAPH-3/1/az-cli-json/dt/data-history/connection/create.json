{
    "command_group": "az dt data-history connection create",
    "description": "Creates a data history connection between a Digital Twins instance and supported resources.",
    "status": "GA",
    "commands": [
        {
            "name": "az dt data-history connection create adx",
            "summary": "Creates a data history connection between a Digital Twins instance and an Azure Data Explorer database. Requires pre-created Azure Data Explorer and Event Hub resources.",
            "syntax": "az dt data-history connection create adx --adx-cluster-name\n                                         --adx-database-name\n                                         --cn\n                                         --dt-name\n                                         --eh\n                                         --ehn\n                                         [--adx-property-events-table]\n                                         [--adx-record-removals {false, true}]\n                                         [--adx-relationship-events-table]\n                                         [--adx-resource-group]\n                                         [--adx-subscription]\n                                         [--adx-table-name]\n                                         [--adx-twin-events-table]\n                                         [--ehc]\n                                         [--ehg]\n                                         [--ehs]\n                                         [--mi-user-assigned]\n                                         [--no-wait]\n                                         [--resource-group]\n                                         [--yes]",
            "required_parameters": [
                "--adx-cluster-name --adxc",
                "--adx-database-name --adxd",
                "--cn --conn-name",
                "--dt-name --dtn -n",
                "--eh --eventhub",
                "--ehn --eventhub-namespace"
            ],
            "optional_parameters": [
                "--adx-property-events-table --adxpet",
                "--adx-record-removals --adxrr",
                "--adx-relationship-events-table --adxret",
                "--adx-resource-group --adxg",
                "--adx-subscription --adxs",
                "--adx-table-name --adxt",
                "--adx-twin-events-table --adxtet",
                "--ehc --eventhub-consumer-group",
                "--ehg --eventhub-resource-group",
                "--ehs --eventhub-subscription",
                "--mi-user-assigned --user",
                "--no-wait",
                "--resource-group -g",
                "--yes -y"
            ],
            "examples": [
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace}",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --mi-user-assigned {resource_id}",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --adx-property-events-table {adx_property_events_table_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --eventhub-consumer-group {event_hub_consumer_group}",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --adx-resource-group {adx_resource_group} --adx-subscription {adx_subscription} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --eventhub-resource-group {event_hub_resource_group} --eventhub-subscription {event_subscription}",
                "az dt data-history connection create adx -n {instance_name} -y --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace}",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --adx-record-removals true",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --adx-twin-events-table {adx_twin_events_table_name} --adx-relationship-events-table {adx_relationship_events_table_name}",
                "az dt data-history connection create adx -n {instance_name} --cn {time_series_database_connection_name} --adx-cluster-name {adx_cluster_name} --adx-database-name {adx_database_name} --eventhub {event_hub} --eventhub-namespace {event_hub_namespace} --adx-property-events-table {adx_property_events_table_name} --adx-twin-events-table {adx_twin_events_table_name} --adx-relationship-events-table {adx_relationship_events_table_name}"
            ]
        }
    ]
}