{
    "command_group": "az monitor metrics alert",
    "description": "Manage near-realtime metric alert rules.",
    "status": "GA",
    "commands": [
        {
            "name": "az monitor metrics alert create",
            "summary": "Create a metric-based alert rule.",
            "syntax": "az monitor metrics alert create --condition\n                                --name\n                                --resource-group\n                                --scopes\n                                [--action]\n                                [--auto-mitigate {false, true}]\n                                [--description]\n                                [--disabled {false, true}]\n                                [--evaluation-frequency]\n                                [--region]\n                                [--severity]\n                                [--tags]\n                                [--target-resource-type]\n                                [--window-size]",
            "required_parameters": [
                "--condition",
                "--name -n",
                "--resource-group -g",
                "--scopes"
            ],
            "optional_parameters": [
                "--action -a",
                "--auto-mitigate",
                "--description",
                "--disabled",
                "--evaluation-frequency",
                "--region --target-resource-region",
                "--severity",
                "--tags",
                "--target-resource-type --type",
                "--window-size"
            ],
            "examples": [
                "az monitor metrics alert create -n alert1 -g {ResourceGroup} --scopes {VirtualMachineID} --condition \"avg Percentage CPU > 90\" --description \"High CPU\"",
                "az monitor metrics alert create -n alert1 -g {ResourceGroup} --scopes {VirtualMachineID} \\\n    --condition \"avg Percentage CPU > 90\" --window-size 5m --evaluation-frequency 1m \\\n    --action \"/subscriptions/<subscriptionId>/resourceGroups/<resourceGroupName>/providers/Microsoft.Insights/actionGroups/<actionGroupName>\" apiKey={APIKey} type=HighCPU \\\n    --description \"High CPU\"",
                "az monitor metrics alert create -g {ResourceGroup} -n alert1 --scopes {StorageAccountId} \\\n    --description \"Storage Slow Transactions\" \\\n    --condition \"total transactions > 5 where ResponseType includes Success\" \\\n    --condition \"avg SuccessE2ELatency > 250 where ApiName includes GetBlob\"",
                "az monitor metrics alert create -n \"metric alert rule on a custom metric\" -g \"Demos\" --scopes {VirtualMachineID} \\\n    --condition \"max Azure.VM.Windows.GuestMetrics.Memory\\Available Bytes > 90\" \\\n    --window-size 5m --evaluation-frequency 1m",
                "az monitor metrics alert create -n alert1 -g {ResourceGroup} --scopes {VirtualMachineID1} {VirtualMachineID2} {VirtualMachineID3} \\\n    --condition \"avg Percentage CPU > 90\" --description \"High CPU\" --region westus",
                "az monitor metrics alert create -n alert1 -g {ResourceGroup} --scopes {VirtualMachineID1} {VirtualMachineID2} {VirtualMachineID3} \\\n    --condition \"avg Percentage CPU > dynamic medium 2 of 4 since 2020-10-01T10:23:00.000Z\"\n    --description \"Dynamic CPU\"\n    --window-size 5m\n    --region westus"
            ]
        },
        {
            "name": "az monitor metrics alert delete",
            "summary": "Delete a metrics-based alert rule.",
            "syntax": "az monitor metrics alert delete [--ids]\n                                [--name]\n                                [--resource-group]\n                                [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--ids",
                "--name -n",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az monitor metrics alert delete --name MyAlertRule --resource-group MyResourceGroup"
            ]
        },
        {
            "name": "az monitor metrics alert list",
            "summary": "List metric-based alert rules.",
            "syntax": "az monitor metrics alert list [--resource-group]",
            "required_parameters": [],
            "optional_parameters": [
                "--resource-group -g"
            ],
            "examples": [
                "az monitor metrics alert list --resource-group MyResourceGroup"
            ]
        },
        {
            "name": "az monitor metrics alert show",
            "summary": "Show a metrics-based alert rule.",
            "syntax": "az monitor metrics alert show [--ids]\n                              [--name]\n                              [--resource-group]\n                              [--subscription]",
            "required_parameters": [],
            "optional_parameters": [
                "--ids",
                "--name -n",
                "--resource-group -g",
                "--subscription"
            ],
            "examples": [
                "az --name MyAlertRule --resource-group MyResourceGroup"
            ]
        },
        {
            "name": "az monitor metrics alert update",
            "summary": "Update a metric-based alert rule.",
            "syntax": "az monitor metrics alert update [--add]\n                                [--add-action]\n                                [--add-condition]\n                                [--auto-mitigate {0, 1, f, false, n, no, t, true, y, yes}]\n                                [--description]\n                                [--enabled {0, 1, f, false, n, no, t, true, y, yes}]\n                                [--evaluation-frequency]\n                                [--force-string {0, 1, f, false, n, no, t, true, y, yes}]\n                                [--ids]\n                                [--name]\n                                [--remove]\n                                [--remove-actions]\n                                [--remove-conditions]\n                                [--resource-group]\n                                [--scopes]\n                                [--set]\n                                [--severity]\n                                [--subscription]\n                                [--tags]\n                                [--window-size]",
            "required_parameters": [],
            "optional_parameters": [
                "--add",
                "--add-action --add-actions",
                "--add-condition --add-conditions",
                "--auto-mitigate",
                "--description",
                "--enabled",
                "--evaluation-frequency",
                "--force-string",
                "--ids",
                "--name -n",
                "--remove",
                "--remove-actions",
                "--remove-conditions",
                "--resource-group -g",
                "--scopes",
                "--set",
                "--severity",
                "--subscription",
                "--tags",
                "--window-size"
            ],
            "examples": [
                "az monitor metrics alert update --enabled false --name MyAlertRule --resource-group MyResourceGroup"
            ]
        }
    ]
}