{
    "command_group": "az iot device",
    "description": "Leverage device simulation and other device-centric operations such as device-to-cloud or cloud-to-device messaging capabilities.",
    "status": "GA",
    "commands": [
        {
            "name": "az iot device send-d2c-message",
            "summary": "Send an mqtt device-to-cloud message.",
            "syntax": "az iot device send-d2c-message --device-id\n                               [--certificate-file-path]\n                               [--da]\n                               [--data-file-path]\n                               [--dtmi]\n                               [--hub-name]\n                               [--key]\n                               [--key-file-path]\n                               [--login]\n                               [--mc]\n                               [--pass]\n                               [--properties]\n                               [--resource-group]",
            "required_parameters": [
                "--device-id -d"
            ],
            "optional_parameters": [
                "--certificate-file-path --cp",
                "--da --data",
                "--data-file-path --dfp",
                "--dtmi --model-id",
                "--hub-name -n",
                "--key --symmetric-key",
                "--key-file-path --kp",
                "--login -l",
                "--mc --msg-count",
                "--pass --passphrase",
                "--properties --props -p",
                "--resource-group -g"
            ],
            "examples": [
                "az iot device send-d2c-message -n {iothub_name} -d {device_id}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --model-id 'dtmi:com:example:Thermostat;1'",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --cp {certificate_file_path} --kp {key_file_path}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --cp {certificate_file_path} --kp {key_file_path} --pass {passphrase}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --data {message_body}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --props 'key0=value0;key1=value1'",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --props '$.mid={id};$.cid={id}'",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --props '$.ct={content-type};$.ce={content-encoding}' --data {message_body}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --props '$.ct=application/octet-stream' --data-file-path {file_path}",
                "az iot device send-d2c-message -n {iothub_name} -d {device_id} --props '$.ct=application/json;$.ce=utf-8' --data-file-path {file_path}"
            ]
        },
        {
            "name": "az iot device simulate",
            "summary": "Simulate a device in an Azure IoT Hub.",
            "syntax": "az iot device simulate --device-id\n                       [--certificate-file-path]\n                       [--da]\n                       [--dtmi]\n                       [--hub-name]\n                       [--init-reported-properties]\n                       [--key]\n                       [--key-file-path]\n                       [--login]\n                       [--mc]\n                       [--method-response-code]\n                       [--method-response-payload]\n                       [--mi]\n                       [--pass]\n                       [--properties]\n                       [--proto {http, mqtt}]\n                       [--receive-settle {abandon, complete, reject}]\n                       [--resource-group]",
            "required_parameters": [
                "--device-id -d"
            ],
            "optional_parameters": [
                "--certificate-file-path --cp",
                "--da --data",
                "--dtmi --model-id",
                "--hub-name -n",
                "--init-reported-properties --irp",
                "--key --symmetric-key",
                "--key-file-path --kp",
                "--login -l",
                "--mc --msg-count",
                "--method-response-code --mrc",
                "--method-response-payload --mrp",
                "--mi --msg-interval",
                "--pass --passphrase",
                "--properties --props -p",
                "--proto --protocol",
                "--receive-settle --rs",
                "--resource-group -g"
            ],
            "examples": [
                "az iot device simulate -n {iothub_name} -d {device_id}",
                "az iot device simulate -n {iothub_name} -d {device_id} --model-id 'dtmi:com:example:Thermostat;1'",
                "az iot device simulate -n {iothub_name} -d {device_id} --cp {certificate_file_path} --kp {key_file_path}",
                "az iot device simulate -n {iothub_name} -d {device_id} --cp {certificate_file_path} --kp {key_file_path} --pass {passphrase}",
                "az iot device simulate -n {iothub_name} -d {device_id} --properties \"myprop=myvalue;$.ct=application/json\"",
                "az iot device simulate -n {iothub_name} -d {device_id} --method-response-code 201 --method-response-payload '{\"result\":\"Direct method successful\"}'",
                "az iot device simulate -n {iothub_name} -d {device_id} --method-response-code 201 --method-response-payload '../my_direct_method_payload.json'",
                "az iot device simulate -n {iothub_name} -d {device_id} --init-reported-properties '{\"reported_prop_1\":\"val_1\", \"reported_prop_2\":val_2}'",
                "az iot device simulate -n {iothub_name} -d {device_id} --init-reported-properties '../my_device_twin_reported_properties.json'",
                "az iot device simulate -n {iothub_name} -d {device_id} --protocol http",
                "az iot device simulate -n {iothub_name} -d {device_id} --protocol http --properties \"iothub-app-myprop=myvalue;content-type=application/json;iothub-correlationid=12345\"",
                "az iot device simulate -n {iothub_name} -d {device_id} --msg-count 1000 --msg-interval 5",
                "az iot device simulate -n {iothub_name} -d {device_id} --rs reject --protocol http",
                "az iot device simulate -n {iothub_name} -d {device_id} --rs abandon --protocol http"
            ]
        },
        {
            "name": "az iot device upload-file",
            "summary": "Upload a local file as a device to a pre-configured blob storage container.",
            "syntax": "az iot device upload-file --content-type\n                          --device-id\n                          --file-path\n                          [--hub-name]\n                          [--login]\n                          [--resource-group]",
            "required_parameters": [
                "--content-type --ct",
                "--device-id -d",
                "--file-path --fp"
            ],
            "optional_parameters": [
                "--hub-name -n",
                "--login -l",
                "--resource-group -g"
            ],
            "examples": []
        }
    ]
}